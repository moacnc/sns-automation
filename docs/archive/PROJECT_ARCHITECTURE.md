# í”„ë¡œì íŠ¸ ì•„í‚¤í…ì²˜ - Instagram ìë™í™” ì‹œìŠ¤í…œ

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ
1. **í•´ì‹œíƒœê·¸ ìŠ¤í† ë¦¬ ìë™ ë¦¬ìŠ¤í† ë¦¬** (í•„í„°ë§ í¬í•¨)
2. **í”„ë¡œí•„ ì •ë³´ ìˆ˜ì§‘ ë° DM ë°œì†¡**

### ê¸°ìˆ  ìŠ¤íƒ
- **Base Framework**: GramAddict (Instagram UI ìë™í™”)
- **AI Layer**: OpenAI Agents SDK
- **Database**: PostgreSQL/AlloyDB
- **Language**: Python 3.9
- **Automation**: ADB (Android Debug Bridge)

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   User Interface Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ CLI Commands   â”‚  â”‚ Web Dashboard    â”‚  â”‚ Scheduler    â”‚ â”‚
â”‚  â”‚ (future)       â”‚  â”‚ (future)         â”‚  â”‚              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AI Agent Layer (OpenAI SDK)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Content      â”‚ â”‚ Profile      â”‚ â”‚ DM Composer           â”‚â”‚
â”‚  â”‚ Filter       â”‚ â”‚ Scraper      â”‚ â”‚ Agent                 â”‚â”‚
â”‚  â”‚ Agent        â”‚ â”‚ Agent        â”‚ â”‚                       â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ Config       â”‚ â”‚ Planning     â”‚                          â”‚
â”‚  â”‚ Generator    â”‚ â”‚ Agent        â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Task Management Layer                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚            SmartTaskManager                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Story        â”‚  â”‚ Profile      â”‚  â”‚ DM          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Restory      â”‚  â”‚ Collection   â”‚  â”‚ Sender      â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Manager      â”‚  â”‚ Manager      â”‚  â”‚ Manager     â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           GramAddict Integration Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              GramAddictSessionRunner                   â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚ Story        â”‚  â”‚ Profile      â”‚  â”‚ DM          â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ Actions      â”‚  â”‚ Scraping     â”‚  â”‚ Sending     â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Instagram App (Android)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  UIAutomator â†’ Instagram Native UI                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Data Storage Layer                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Session      â”‚  â”‚ Profile      â”‚  â”‚ DM              â”‚   â”‚
â”‚  â”‚ Logs         â”‚  â”‚ Data         â”‚  â”‚ Tracking        â”‚   â”‚
â”‚  â”‚ (PostgreSQL) â”‚  â”‚ (PostgreSQL) â”‚  â”‚ (PostgreSQL)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ë³„ ì„¤ê³„

### ê¸°ëŠ¥ 1: í•´ì‹œíƒœê·¸ ìŠ¤í† ë¦¬ ìë™ ë¦¬ìŠ¤í† ë¦¬

#### ì›Œí¬í”Œë¡œìš°

```
1. ì‚¬ìš©ì ì…ë ¥
   â†“
   - íƒ€ê²Ÿ í•´ì‹œíƒœê·¸: ["ë§›ì§‘", "ì¹´í˜", "ì—¬í–‰"]
   - ë¶ˆëŸ‰ ë‹¨ì–´ ë¦¬ìŠ¤íŠ¸: ["ìš•ì„¤", "ê´‘ê³ ", "ìŠ¤íŒ¸"]
   - ì¼ì¼ ë¦¬ìŠ¤í† ë¦¬ í•œë„: 20ê°œ

2. SmartTaskManager
   â†“
   - ConfigGeneratorAgent: ì„¤ì • ìƒì„±
   - ContentFilterAgent: í•„í„°ë§ ê·œì¹™ ì ìš©

3. GramAddict Runner
   â†“
   - Instagram ì•± ì‹¤í–‰
   - í•´ì‹œíƒœê·¸ ê²€ìƒ‰: "#ë§›ì§‘"
   - ìŠ¤í† ë¦¬ ëª©ë¡ ì¡°íšŒ

4. ContentFilterAgent
   â†“
   - ê° ìŠ¤í† ë¦¬ í…ìŠ¤íŠ¸ ë¶„ì„
   - ë¶ˆëŸ‰ ë‹¨ì–´ ê²€ì‚¬
   - ì´ë¯¸ì§€ ë‚´ìš© ë¶„ì„ (OpenAI Vision API)

5. í•„í„°ë§ ê²°ê³¼
   â†“
   - âœ… ì•ˆì „: ë¦¬ìŠ¤í† ë¦¬ ì‹¤í–‰
   - âŒ ìœ„í—˜: ê±´ë„ˆë›°ê¸° + ë¡œê·¸ ê¸°ë¡

6. ë¦¬ìŠ¤í† ë¦¬ ì‹¤í–‰
   â†“
   - GramAddict: UI ìë™í™”
   - ìŠ¤í† ë¦¬ í´ë¦­ â†’ ê³µìœ  ë²„íŠ¼ â†’ ë‚´ ìŠ¤í† ë¦¬ì— ì¶”ê°€

7. ê²°ê³¼ ì €ì¥
   â†“
   - DBì— ì„¸ì…˜ ê¸°ë¡
   - ë¦¬ìŠ¤í† ë¦¬ ì¹´ìš´íŠ¸
   - í•„í„°ë§ëœ í•­ëª© ê¸°ë¡
```

#### í•„ìš” ëª¨ë“ˆ

1. **ContentFilterAgent** (ì‹ ê·œ ê°œë°œ)
   ```python
   class ContentFilterAgent:
       def check_text(text: str, bad_words: List[str]) -> bool
       def check_image(image_path: str) -> Dict[str, Any]
       def apply_filter_policy(content: Dict) -> FilterResult
   ```

2. **StoryRestoryManager** (ì‹ ê·œ ê°œë°œ)
   ```python
   class StoryRestoryManager:
       def search_hashtag_stories(hashtag: str) -> List[Story]
       def collect_story_content(story: Story) -> StoryContent
       def restory(story: Story) -> RestoryResult
   ```

3. **Database Schema** (í™•ì¥ í•„ìš”)
   ```sql
   CREATE TABLE restory_sessions (
       session_id UUID PRIMARY KEY,
       username VARCHAR(255),
       target_hashtags TEXT[],
       total_viewed INT,
       total_restoried INT,
       total_filtered INT,
       created_at TIMESTAMP
   );

   CREATE TABLE filtered_stories (
       id SERIAL PRIMARY KEY,
       session_id UUID REFERENCES restory_sessions,
       story_url TEXT,
       filter_reason VARCHAR(255),
       bad_words_found TEXT[],
       created_at TIMESTAMP
   );
   ```

---

### ê¸°ëŠ¥ 2: í”„ë¡œí•„ ì •ë³´ ìˆ˜ì§‘ ë° DM ë°œì†¡

#### ì›Œí¬í”Œë¡œìš°

```
1. ì‚¬ìš©ì ì…ë ¥
   â†“
   - ê²€ìƒ‰ ì¡°ê±´: {"niche": "fashion", "follower_range": (10k, 100k)}
   - DM í…œí”Œë¦¿: "collaboration_proposal"
   - ì¼ì¼ DM í•œë„: 30ê°œ

2. ProfileScraperAgent
   â†“
   - Instagram ê²€ìƒ‰: í•´ì‹œíƒœê·¸, ìœ„ì¹˜, ì¶”ì²œ
   - í”„ë¡œí•„ ëª©ë¡ ìˆ˜ì§‘
   - ì¡°ê±´ í•„í„°ë§ (íŒ”ë¡œì›Œ ìˆ˜, ì°¸ì—¬ìœ¨)

3. ê° í”„ë¡œí•„ ìƒì„¸ ì •ë³´ ìˆ˜ì§‘
   â†“
   - íŒ”ë¡œì›Œ ìˆ˜, íŒ”ë¡œì‰ ìˆ˜
   - í¬ìŠ¤íŒ… ìˆ˜
   - ìµœê·¼ ê²Œì‹œë¬¼ (10ê°œ)
   - í‰ê·  ì¢‹ì•„ìš”/ëŒ“ê¸€ ìˆ˜
   - ì°¸ì—¬ìœ¨ ê³„ì‚°: (likes + comments) / followers * 100

4. DBì— í”„ë¡œí•„ ë°ì´í„° ì €ì¥
   â†“
   - profile_data í…Œì´ë¸”ì— ì €ì¥
   - ì¤‘ë³µ í”„ë¡œí•„ ì²´í¬

5. DMComposerAgent
   â†“
   - í”„ë¡œí•„ ë°ì´í„° ë¶„ì„
   - ê°œì¸í™” ë©”ì‹œì§€ ìƒì„± (OpenAI GPT)
   - í…œí”Œë¦¿ ì ìš©

6. DM ë°œì†¡
   â†“
   - GramAddict: DM ë°œì†¡ ìë™í™”
   - ì†ë„ ì œì–´ (60ì´ˆ ëŒ€ê¸°)
   - ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ (3íšŒ)

7. ê²°ê³¼ ì €ì¥
   â†“
   - DM ë°œì†¡ ê¸°ë¡
   - ì„±ê³µ/ì‹¤íŒ¨ ìƒíƒœ
   - ì‘ë‹µ ì¶”ì  (future)
```

#### í•„ìš” ëª¨ë“ˆ

1. **ProfileScraperAgent** (ì‹ ê·œ ê°œë°œ)
   ```python
   class ProfileScraperAgent:
       def search_profiles(criteria: Dict) -> List[str]
       def collect_profile_info(username: str) -> ProfileData
       def calculate_engagement_rate(profile: ProfileData) -> float
       def filter_by_criteria(profiles: List, criteria: Dict) -> List
   ```

2. **DMComposerAgent** (ì‹ ê·œ ê°œë°œ)
   ```python
   class DMComposerAgent:
       def compose_personalized_dm(
           profile_data: ProfileData,
           template_name: str,
           brand_info: Dict
       ) -> str

       def load_template(name: str) -> str
       def apply_ab_testing() -> str
   ```

3. **DMSenderManager** (ì‹ ê·œ ê°œë°œ)
   ```python
   class DMSenderManager:
       def send_dm(username: str, message: str) -> DMResult
       def batch_send(targets: List[str], messages: List[str]) -> List[DMResult]
       def track_response(dm_id: str) -> ResponseStatus
   ```

4. **Database Schema** (í™•ì¥ í•„ìš”)
   ```sql
   CREATE TABLE profile_data (
       id SERIAL PRIMARY KEY,
       username VARCHAR(255) UNIQUE,
       followers INT,
       following INT,
       posts_count INT,
       engagement_rate FLOAT,
       bio TEXT,
       last_updated TIMESTAMP,
       created_at TIMESTAMP
   );

   CREATE TABLE dm_campaigns (
       campaign_id UUID PRIMARY KEY,
       campaign_name VARCHAR(255),
       target_criteria JSONB,
       template_name VARCHAR(255),
       daily_limit INT,
       created_at TIMESTAMP
   );

   CREATE TABLE dm_sent (
       id SERIAL PRIMARY KEY,
       campaign_id UUID REFERENCES dm_campaigns,
       target_username VARCHAR(255),
       message TEXT,
       status VARCHAR(50),  -- sent, failed, responded
       error_message TEXT,
       sent_at TIMESTAMP,
       responded_at TIMESTAMP
   );
   ```

---

## ğŸ”§ ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### 1. Instagram API ì œí•œ íšŒí”¼

**ë¬¸ì œ**: Instagramì€ ë¹„ê³µì‹ ìë™í™”ë¥¼ ê°ì§€í•˜ê³  ì œì¬í•¨

**í•´ê²°ì±…**:
- **ì¸ê°„ í–‰ë™ íŒ¨í„´ ëª¨ë°©**
  - ëœë¤ ë”œë ˆì´: 30-90ì´ˆ ì‚¬ì´
  - ìŠ¤í¬ë¡¤ ì†ë„ ì¡°ì ˆ
  - í´ë¦­ ìœ„ì¹˜ ëœë¤í™”

- **ì•ˆì „í•œ í•œë„ ì„¤ì •**
  - ë¦¬ìŠ¤í† ë¦¬: í•˜ë£¨ 20-30ê°œ
  - DM: í•˜ë£¨ 30-50ê°œ (ê³„ì • ë‚˜ì´ì— ë”°ë¼)
  - í”„ë¡œí•„ ì¡°íšŒ: ì‹œê°„ë‹¹ 50ê°œ

- **IP ë¡œí…Œì´ì…˜** (ê³ ê¸‰)
  - VPN/í”„ë¡ì‹œ ì‚¬ìš©
  - ë””ë°”ì´ìŠ¤ ID ë¡œí…Œì´ì…˜

### 2. í•„í„°ë§ ì •í™•ë„

**ë¬¸ì œ**: ë¶ˆëŸ‰ ë‹¨ì–´ í•„í„°ë§ì´ ì˜¤íƒ/ë¯¸íƒ ë°œìƒ

**í•´ê²°ì±…**:
- **ë‹¤ì¸µ í•„í„°ë§**
  - Level 1: ì •ê·œì‹ ê¸°ë°˜ ë‹¨ì–´ ë§¤ì¹­
  - Level 2: OpenAI Moderation API
  - Level 3: GPT-4 Vision (ì´ë¯¸ì§€ ë¶„ì„)

- **í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸/ë¸”ë™ë¦¬ìŠ¤íŠ¸**
  - ì•ˆì „ í™•ì¸ëœ ì‚¬ìš©ì: í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸
  - ë°˜ë³µ ìœ„ë°˜ ì‚¬ìš©ì: ë¸”ë™ë¦¬ìŠ¤íŠ¸

- **ì‚¬ìš©ì í”¼ë“œë°± ë£¨í”„**
  - ì˜ëª» í•„í„°ë§ëœ í•­ëª© ë³´ê³ 
  - AI ëª¨ë¸ ì¬í•™ìŠµ

### 3. ì„±ëŠ¥ ìµœì í™”

**ë¬¸ì œ**: ëŒ€ëŸ‰ í”„ë¡œí•„ ìˆ˜ì§‘ ì‹œ ëŠë¦° ì†ë„

**í•´ê²°ì±…**:
- **ë¹„ë™ê¸° ì²˜ë¦¬**
  ```python
  async def collect_profiles_async(usernames: List[str]):
      tasks = [collect_profile_info(u) for u in usernames]
      results = await asyncio.gather(*tasks)
      return results
  ```

- **ìºì‹±**
  - Redis ìºì‹œ: í”„ë¡œí•„ ë°ì´í„° 24ì‹œê°„
  - DB ì¸ë±ì‹±: username, followers

- **ë°°ì¹˜ ì²˜ë¦¬**
  - 10ê°œì”© ë¬¶ì–´ì„œ ì²˜ë¦¬
  - ì‹¤íŒ¨ ì‹œ ê°œë³„ ì¬ì‹œë„

### 4. ë°ì´í„° ë³´ì•ˆ

**ë¬¸ì œ**: ë¯¼ê°í•œ ë°ì´í„° (DM ë‚´ìš©, í”„ë¡œí•„ ì •ë³´) ë³´í˜¸

**í•´ê²°ì±…**:
- **ì•”í˜¸í™”**
  - DM ë©”ì‹œì§€: AES-256 ì•”í˜¸í™”
  - API Key: í™˜ê²½ë³€ìˆ˜ + AWS Secrets Manager

- **ì ‘ê·¼ ì œì–´**
  - PostgreSQL ì—­í•  ê¸°ë°˜ ê¶Œí•œ
  - VPN ë‚´ë¶€ë§ ì ‘ê·¼ë§Œ í—ˆìš©

- **ë¡œê·¸ ê´€ë¦¬**
  - ë¯¼ê° ì •ë³´ ë§ˆìŠ¤í‚¹
  - ë¡œê·¸ ë³´ê´€ ê¸°ê°„: 30ì¼

---

## ğŸ“Š ë°ì´í„° ëª¨ë¸

### ER Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  users          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚
â”‚ username        â”‚
â”‚ device_id       â”‚
â”‚ created_at      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ 1:N
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sessions        â”‚       â”‚ profile_data     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ session_id (PK) â”‚       â”‚ id (PK)          â”‚
â”‚ user_id (FK)    â”‚       â”‚ username (UQ)    â”‚
â”‚ session_type    â”‚       â”‚ followers        â”‚
â”‚ status          â”‚       â”‚ engagement_rate  â”‚
â”‚ started_at      â”‚       â”‚ last_updated     â”‚
â”‚ ended_at        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
        â”‚                           â”‚
        â”‚ 1:N                       â”‚ 1:N
        â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ restory_logs    â”‚       â”‚ dm_campaigns     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)         â”‚       â”‚ campaign_id (PK) â”‚
â”‚ session_id (FK) â”‚       â”‚ name             â”‚
â”‚ story_url       â”‚       â”‚ target_criteria  â”‚
â”‚ action          â”‚       â”‚ daily_limit      â”‚
â”‚ created_at      â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                                   â”‚ 1:N
                                   â–¼
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â”‚ dm_sent          â”‚
                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                          â”‚ id (PK)          â”‚
                          â”‚ campaign_id (FK) â”‚
                          â”‚ target_username  â”‚
                          â”‚ message (ì•”í˜¸í™”)  â”‚
                          â”‚ status           â”‚
                          â”‚ sent_at          â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ êµ¬í˜„ ê³„íš

### Phase 1: ê¸°ë°˜ êµ¬ì¡° (ì™„ë£Œ âœ…)
- [x] GramAddict í†µí•©
- [x] OpenAI Agents SDK í†µí•©
- [x] ConfigGeneratorAgent
- [x] PlanningAgent
- [x] SmartTaskManager
- [x] Database ì—°ë™

### Phase 2: ìŠ¤í† ë¦¬ ë¦¬ìŠ¤í† ë¦¬ ê¸°ëŠ¥ (2-3ì£¼)
- [ ] ContentFilterAgent ê°œë°œ
  - [ ] í…ìŠ¤íŠ¸ í•„í„°ë§ (ì •ê·œì‹ + OpenAI Moderation)
  - [ ] ì´ë¯¸ì§€ í•„í„°ë§ (GPT-4 Vision)
  - [ ] í•„í„°ë§ ì •ì±… ì—”ì§„

- [ ] StoryRestoryManager ê°œë°œ
  - [ ] í•´ì‹œíƒœê·¸ ê²€ìƒ‰ ê¸°ëŠ¥
  - [ ] ìŠ¤í† ë¦¬ ë‚´ìš© ìˆ˜ì§‘
  - [ ] ë¦¬ìŠ¤í† ë¦¬ ìë™í™”

- [ ] Database Schema í™•ì¥
  - [ ] restory_sessions í…Œì´ë¸”
  - [ ] filtered_stories í…Œì´ë¸”

- [ ] í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
  - [ ] í•„í„°ë§ ì •í™•ë„ í…ŒìŠ¤íŠ¸
  - [ ] ë¦¬ìŠ¤í† ë¦¬ ì„±ê³µë¥  ì¸¡ì •

### Phase 3: í”„ë¡œí•„ ìˆ˜ì§‘ ë° DM ê¸°ëŠ¥ (3-4ì£¼)
- [ ] ProfileScraperAgent ê°œë°œ
  - [ ] í”„ë¡œí•„ ê²€ìƒ‰ ê¸°ëŠ¥
  - [ ] ìƒì„¸ ì •ë³´ ìˆ˜ì§‘
  - [ ] ì°¸ì—¬ìœ¨ ê³„ì‚°

- [ ] DMComposerAgent ê°œë°œ
  - [ ] í…œí”Œë¦¿ ì‹œìŠ¤í…œ
  - [ ] ê°œì¸í™” ë©”ì‹œì§€ ìƒì„± (GPT)
  - [ ] A/B í…ŒìŠ¤íŒ…

- [ ] DMSenderManager ê°œë°œ
  - [ ] DM ë°œì†¡ ìë™í™”
  - [ ] ë°°ì¹˜ ì²˜ë¦¬
  - [ ] ì‘ë‹µ ì¶”ì 

- [ ] Database Schema í™•ì¥
  - [ ] profile_data í…Œì´ë¸”
  - [ ] dm_campaigns í…Œì´ë¸”
  - [ ] dm_sent í…Œì´ë¸”

- [ ] í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
  - [ ] í”„ë¡œí•„ ìˆ˜ì§‘ ì •í™•ë„
  - [ ] DM ë°œì†¡ ì„±ê³µë¥ 
  - [ ] ì‘ë‹µë¥  ì¶”ì 

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (4-6ì£¼)
- [ ] ìŠ¤ì¼€ì¤„ë§ ì‹œìŠ¤í…œ
  - [ ] Cron ê¸°ë°˜ ìë™ ì‹¤í–‰
  - [ ] ì‹œê°„ëŒ€ë³„ ì‘ì—… ë¶„ì‚°

- [ ] ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼
  - [ ] ì‹¤ì‹œê°„ ì„¸ì…˜ ëª¨ë‹ˆí„°ë§
  - [ ] ì—ëŸ¬ ì•Œë¦¼ (Slack, Email)
  - [ ] ì„±ê³¼ ëŒ€ì‹œë³´ë“œ

- [ ] ì›¹ ëŒ€ì‹œë³´ë“œ
  - [ ] React ê¸°ë°˜ UI
  - [ ] ì‹¤ì‹œê°„ í†µê³„
  - [ ] ì„¤ì • ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤

---

## ğŸ“ˆ ì„±ê³µ ì§€í‘œ

### ë¦¬ìŠ¤í† ë¦¬ ê¸°ëŠ¥
- **ëª©í‘œ ë¦¬ìŠ¤í† ë¦¬ ìˆ˜**: í•˜ë£¨ 20ê°œ
- **í•„í„°ë§ ì •í™•ë„**: 95% ì´ìƒ
- **ì œì¬ íšŒí”¼ìœ¨**: 99% ì´ìƒ

### DM ë°œì†¡ ê¸°ëŠ¥
- **ì¼ì¼ DM ë°œì†¡**: 30ê°œ
- **ì‘ë‹µë¥ **: 5% ì´ìƒ
- **ë°œì†¡ ì„±ê³µë¥ **: 98% ì´ìƒ

### ì‹œìŠ¤í…œ ì•ˆì •ì„±
- **ê°€ë™ ì‹œê°„**: 99.5% ì´ìƒ
- **ì—ëŸ¬ìœ¨**: 1% ì´í•˜
- **í‰ê·  ì‘ë‹µ ì‹œê°„**: 30ì´ˆ ì´ë‚´

---

## âš ï¸ ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

### 1. Instagram ì œì¬
**ë¦¬ìŠ¤í¬**: ê³„ì • ì¼ì‹œ ì •ì§€ ë˜ëŠ” ì˜êµ¬ ì°¨ë‹¨

**ëŒ€ì‘**:
- í…ŒìŠ¤íŠ¸ ê³„ì • ì‚¬ìš©
- ë³´ìˆ˜ì ì¸ ì‘ì—… ì†ë„
- ì¸ê°„ í–‰ë™ íŒ¨í„´ ëª¨ë°©
- ì¦‰ì‹œ ì¤‘ë‹¨ ë©”ì»¤ë‹ˆì¦˜

### 2. AI ë¹„ìš©
**ë¦¬ìŠ¤í¬**: OpenAI API ë¹„ìš© ì¦ê°€

**ëŒ€ì‘**:
- gpt-4o-mini ì‚¬ìš© (ì €ë ´)
- ìºì‹±ìœ¼ë¡œ ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
- ì›” ì˜ˆì‚° ì„¤ì • ë° ëª¨ë‹ˆí„°ë§

### 3. ë°ì´í„° ë³´ì•ˆ
**ë¦¬ìŠ¤í¬**: ë¯¼ê° ì •ë³´ ìœ ì¶œ

**ëŒ€ì‘**:
- ì•”í˜¸í™” (AES-256)
- VPN ì ‘ê·¼ ì œí•œ
- ì •ê¸° ë³´ì•ˆ ê°ì‚¬

---

## ğŸ“ ì°¸ê³  ìë£Œ

- [GramAddict ë¬¸ì„œ](https://github.com/GramAddict/GramAddict)
- [OpenAI Agents SDK](https://openai.github.io/openai-agents-python/ko/)
- [Instagram API ì œí•œ ê°€ì´ë“œ](https://developers.facebook.com/docs/instagram-api/overview)
- [í”„ë¡œì íŠ¸ í†µí•© ê³„íš](../OPENAI_AGENTS_INTEGRATION.md)

---

**ì‘ì„±ì¼**: 2025-10-10
**ë²„ì „**: 1.0
**ìƒíƒœ**: ì„¤ê³„ ì™„ë£Œ, Phase 2 ê°œë°œ ëŒ€ê¸° ì¤‘
